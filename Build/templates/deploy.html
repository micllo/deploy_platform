{#{% include 'header.html' %}#}
<!DOCTYPE html>
<html>
    <head>
        <title>部 署 平 台</title>
        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        {% set pro_name = tasks['pro_name'] %}
        {% set nginx_api_proxy = tasks['nginx_api_proxy'] %}
        {% set deploy_info_list = tasks['deploy_info_list'] %}
        {% set pro_is_run = tasks['pro_is_run'] %}
        {% set sonar_url = tasks['sonar_url'] %}
        {% set jacoco_report_url = tasks['jacoco_report_url'] %}
        {% set apiTest_report_url = tasks['apiTest_report_url'] %}
        <link href="/{{nginx_api_proxy}}/Build/css/bootstrap-c3f6119851.min.css" rel="stylesheet">
        <link href="/{{nginx_api_proxy}}/Build/css/sweetalert-4dff2482c7.min.css" rel="stylesheet"/>
        <link href="/{{nginx_api_proxy}}/Build/css/font-awesome-6610172f10.css" rel="stylesheet"/>
        <link href="/{{nginx_api_proxy}}/Build/css/dataTables-60a2e5fcf8.bootstrap.css" rel="stylesheet"/>
    </head>

    <body>
        <div id="page-wrapper">
            <div class="header" align="center">
                <h1 class="page-header"> 部 署 平 台&nbsp;-&nbsp;{{pro_name}}&nbsp;项&nbsp;目 </h1>
            </div>
            <div id="page-inner">
               <div class="row">
                  <div class="col-lg-12">

                      <div class="col-xs-12 col-md-4" style="margin-left:3%">
                          <div class="panel panel-success">
                             <div class="panel-heading" align="center" style="font-size:18px;font-weight: bold;">
                                 批&nbsp;&nbsp;&nbsp;量&nbsp;&nbsp;&nbsp;操&nbsp;&nbsp;&nbsp;作&nbsp;&nbsp;&nbsp;用&nbsp;&nbsp;&nbsp;例
                                 <a style="margin-left:10%;font-size:15px;" href="/api_case_tmpl" download="测试用例模板.xlsx"
                                    onMouseOver="this.style.cursor='hand',this.style.color='#FF0000'"
                                    onMouseOut="this.style.color='#006699'"> 导 入 模 板
                                </a>
                             </div>
                             <div class="panel-body">
                                 <form id="import_action_form" class="form-horizontal" enctype="multipart/form-data">
                                    <div class="col-sm-12">
                                        <div class="col-sm-7">
                                            <label style="font-size:15px; margin-left:10%;" class="text-success"> 用 例 文 件 格 式: xls xlsx csv</label>
                                            <input class="form-control" id="file" type="file" name="file"/>
                                        </div>
                                         {% if is_run %}
                                             <div class="col-sm-4" align="center" style="line-height:45px; font-size:15px; margin-left:5%; margin-top:2%;">
                                                 <button id="test_btn" name="test_btn" type="button" class="btn btn-success"  disabled="disabled"
                                                        onclick="export_result('{{ pro_name }}','{{ nginx_api_proxy }}')"> 导 出 Excel
                                                 </button>
                                             </div>
                                         {% else %}
                                             <div class="col-sm-4" align="center" style="line-height:45px; font-size:15px; margin-left:5%; margin-top:2%;">
                                                 <button id="test_btn" name="test_btn" type="button" class="btn btn-success"
                                                        onclick="export_result('{{ pro_name }}','{{ nginx_api_proxy }}')"> 导 出 Excel
                                                 </button>
                                             </div>
                                         {% endif %}
                                    </div>

                                    <div class="col-sm-12">
                                        <div class="col-sm-7" style="margin-top:2%;">
                                            <select class="form-control" name="import_method" id="import_method" style="text-align: center; text-align-last: center;">
                                                <option value="">请 选 择 导 入 方 式</option>
                                                <option value="batch_insert">批 量 新 增</option>
                                                <option value="all_replace">全 部 替 换</option>
                                                <option value="batch_insert_and_replace">批 量 新 增 + 替 换</option>
                                            </select>
                                        </div>
                                        {% if is_run %}
                                            <div class="col-sm-4" align="center" style="line-height:45px; margin-left:5%; margin-top:1%;">
                                                <button id="import_btn" name="import_btn" type="button" class="btn btn-success" disabled="disabled"
                                                        data-loading-text="Importing..." onclick="exec_import('{{ pro_name }}','{{ nginx_api_proxy }}')"> 批 量 导 入
                                                </button>
                                            </div>
                                        {% else %}
                                            <div class="col-sm-4" align="center" style="line-height:45px; margin-left:5%; margin-top:1%;">
                                                <button id="import_btn" name="import_btn" type="button" class="btn btn-success"
                                                        data-loading-text="Importing..." onclick="exec_import('{{ pro_name }}','{{ nginx_api_proxy }}')"> 批 量 导 入
                                                </button>
                                            </div>
                                        {% endif %}
                                    </div>
                                 </form>

                             </div>
                          </div>
                      </div>

                      <div class="col-xs-12 col-md-5">
                          <div class="panel panel-primary">
                             <div class="panel-heading" align="center" style="font-size:18px;font-weight: bold;">
                                 相&nbsp;&nbsp;&nbsp;关&nbsp;&nbsp;&nbsp;配&nbsp;&nbsp;&nbsp;置&nbsp;&nbsp;&nbsp;与&nbsp;&nbsp;&nbsp;操&nbsp;&nbsp;&nbsp;作
                             </div>
                             <div class="panel-body">
                                 <div class="col-sm-12">
                                     <div class="col-sm-3" align="center" style="line-height:55px; font-size:15px;">
                                         <button class="btn btn-primary btn-icon" type="button" data-toggle="modal" data-target="#add_global_variable_form"> 配 置 全 局 变 量 </button>
                                     </div>
                                     <div class="col-sm-3" align="center" style="line-height:55px; font-size:15px;">
                                         {% if is_run %}
                                             <button id="on_line_all" type="button" class="btn btn-primary" disabled="disabled"
                                                 onclick="update_case_status_all('{{pro_name}}','true','{{nginx_api_proxy}}')"> 上 线 所 有 用 例 </button>
                                         {% else %}
                                             <button id="on_line_all" type="button" class="btn btn-primary"
                                                 onclick="update_case_status_all('{{pro_name}}','true','{{nginx_api_proxy}}')"> 上 线 所 有 用 例 </button>
                                         {% endif %}
                                     </div>
                                     <div class="col-sm-3" align="center" style="line-height:55px; font-size:15px;">
                                         {% if is_run %}
                                             <button id="off_line_all" type="button" class="btn btn-primary" disabled="disabled"
                                                     onclick="update_case_status_all('{{pro_name}}','false','{{nginx_api_proxy}}')"> 下 线 所 有 用 例 </button>
                                         {% else %}
                                             <button id="off_line_all" type="button" class="btn btn-primary"
                                                     onclick="update_case_status_all('{{pro_name}}','false','{{nginx_api_proxy}}')"> 下 线 所 有 用 例 </button>
                                         {% endif %}
                                     </div>
                                     <div class="col-sm-3" align="center" style="line-height:55px; font-size:15px;">
                                         {% if deploy_status %}
                                            <button id="deploy_status_btn" type="button" class="btn btn-success" onclick="update_run_type_status('{{ pro_name }}','{{ nginx_api_proxy }}', 'deploy')"> 部 署 测 试 已 开 启</button>
                                         {% else %}
                                            <button id="deploy_status_btn" type="button" class="btn btn-danger" onclick="update_run_type_status('{{ pro_name }}','{{ nginx_api_proxy }}', 'deploy')"> 部 署 测 试 已 关 闭</button>
                                         {% endif %}
                                     </div>
                                 </div>

                                 <div class="col-sm-12">
                                     <div class="col-sm-3" align="center" style="line-height:55px; font-size:15px;">
                                         <button id="check_global_variable_btn" type="button" class="btn btn-primary" onclick="check_global_variable('{{ pro_name }}','{{ nginx_api_proxy }}')"> 检 测 全 局 变 量 </button>
                                     </div>
                                     <div class="col-sm-3" align="center" style="line-height:55px; font-size:15px;">
                                         <button id="check_depend_variable_btn" type="button" class="btn btn-primary" onclick="check_depend_variable('{{ pro_name }}','{{ nginx_api_proxy }}')"> 检 测 依 赖 变 量 </button>
                                     </div>
                                     <div class="col-sm-3" align="center" style="line-height:55px; font-size:15px;">
                                         <button id="stop_status_btn" type="button" class="btn btn-primary" onclick="stop_status('{{ pro_name }}','{{ nginx_api_proxy }}')"> 停 止 运 行 状 态</button>
                                     </div>
                                     <div class="col-sm-3" align="center" style="line-height:55px; font-size:15px;">
                                         {% if cron_status %}
                                            <button id="cron_status_btn" type="button" class="btn btn-success" onclick="update_run_type_status('{{ pro_name }}','{{ nginx_api_proxy }}', 'cron')"> 定 时 任 务 已 开 启</button>
                                         {% else %}
                                            <button id="cron_status_btn" type="button" class="btn btn-danger" onclick="update_run_type_status('{{ pro_name }}','{{ nginx_api_proxy }}', 'cron')"> 定 时 任 务 已 关 闭</button>
                                         {% endif %}
                                     </div>
                                 </div>

                             </div>
                          </div>
                      </div>

                      <div class="col-xs-12 col-md-2">
                          <div class="panel panel-warning">
                             <div class="panel-heading" align="center" style="font-size:18px; font-weight: bold;">
                                 报&nbsp;&nbsp;告&nbsp;&nbsp;与&nbsp;&nbsp;用&nbsp;&nbsp;例&nbsp;&nbsp;Excel
                             </div>
                             <div class="panel-body">
                                 <div class="col-sm-12">
                                     <div class="col-sm-12" align="center" style="line-height:55px; font-size:15px; margin-left:1%;">
                                         <a id="history_report_url" onclick="window.open('{{history_report_path}}')" class="text-warning"> 下 载 用 例 Excel </a>
                                         {# onMouseOver="this.style.cursor='hand'; this.style.color='#FF0000'" onMouseOut="this.style.color='#006699'"#}
                                     </div>
                                 </div>
                                 <div class="col-sm-12">
                                    <div class="col-sm-12" align="center" style="line-height:55px; font-size:15px; margin-left:1%;">
                                        <a id="history_report_url" onclick="window.open('/{{ nginx_api_proxy }}/DEPLOY/show_deploy_log/{{ pro_name }}')" class="text-warning"> 查 看 部 署 日 志 </a>
                                    </div>
                                 </div>
                             </div>
                          </div>
                      </div>

                  </div>
               </div>
            </div>

            <div id="page-inner2">
               <div class="row">
                  <div class="col-lg-12">
                     <div class="col-xs-12 col-md-11" style="margin-left:3%">
                        <div class="panel panel-info">
                            <div id="statist_data" class="panel-heading" align="center" style="font-size:20px; font-weight: bold;">
                                部 署 模 块
                            </div>
                            <div class="panel-body">
                                <div class="card">
                                    <div class="card-body card-padding">
                                        <div class="table-responsive">
                                            <table class="table table-striped">
                                                <thead>
                                                <tr>
                                                    <th style="font-size:18px;" class="text-center">状 态</th>
                                                    <th style="font-size:18px;" class="text-center">序 号</th>
                                                    <th style="font-size:18px;" class="text-center">环 境</th>
                                                    <th style="font-size:18px;" class="text-center">部 署 名 称</th>
                                                    <th style="font-size:18px;" class="text-center">当 前 分 支</th>
                                                    <th style="font-size:18px;" class="text-center">部 署 结 果</th>
                                                    <th style="font-size:18px;" class="text-center">部 署 时 间</th>
                                                    <th style="font-size:18px;" class="text-center">操 作</th>
                                                    <th style="font-size:18px;" class="text-center">Token</th>
                                                </tr>
                                                </thead>
                                                <tbody id="deploy_tbody">
                                                {% for deploy_info in deploy_info_list %}
                                                    {% set _id = deploy_info["_id"] %}
                                                    {% set serial_num = deploy_info["serial_num"] %}
                                                    {% set deploy_name = deploy_info["deploy_name"] %}
                                                    {% set branch = deploy_info["branch"] %}
                                                    {% set build_env = deploy_info["build_env"] %}
                                                    {% set deploy_status = deploy_info["deploy_status"] %}
                                                    {% set jacoco_status = deploy_info["jacoco_status"] %}
                                                    {% set deploy_result = deploy_info["deploy_result"] %}
                                                    {% set deploy_time = deploy_info["deploy_time"] %}
                                                    {% set run_status = deploy_info["run_status"] %}
                                                    <tr>
                                                        {# 部署状态 #}
                                                        <td class="text-center" style="width:50px; font-size:15px; color:#4D0000; display:table-cell; vertical-align:middle;" onclick="update_deploy_status('{{pro_name}}','{{nginx_api_proxy}}','{{deploy_name}}','{{_id}}')" id="deploy_status_{{_id}}">
                                                        {% if deploy_status %}
                                                            <font color="#00A600">上 线</font>
                                                        {% else %}
                                                            <font color="#DC143C">下 线</font>
                                                        {% endif %}
                                                        </td>

                                                        {# 部署序号 #}
                                                        <td class="text-center" style="width: 50px; font-size:16px; color:#9F5000; display:table-cell; vertical-align:middle;" id="serial_num_{{_id}}">{{ serial_num }}</td>

                                                        {# 构建环境 #}
                                                        <td class="text-center" style="width: 50px; font-size:16px; color:#4D0000; display:table-cell; vertical-align:middle;" id="build_env_{{_id}}">{{ build_env }}</td>

                                                        {# 部署名称 #}
                                                        <td class="text-center" style="width: 200px; font-size:16px; color:#5151A2; display:table-cell; vertical-align:middle;" id="deploy_name_{{_id}}">{{ deploy_name }}</td>

                                                        {# 当前分支 #}
                                                        <td class="text-center" style="width: 100px; font-size:16px; color:#8F4586; display:table-cell; vertical-align:middle;" id="branch_{{_id}}">{{ branch }}</td>

                                                        {# 部署结果 #}
                                                        <td class="text-center" style="width: 100px; color:#4D0000; display:table-cell; vertical-align:middle;" id="deploy_result_{{_id}}">
                                                            {% if "----" in deploy_result %}
                                                                {{ deploy_result }}
                                                            {% elif "成功" in deploy_result %}
                                                                <span id="exec_result" style="font-size:14px" class="label label-success"> {{ deploy_result }} </span>
                                                            {% else %}
                                                                <span id="exec_result" style="font-size:14px" class="label label-danger">{{ deploy_result }}</span>
                                                            {% endif %}
                                                        </td>

                                                        {# 部署时间 #}
                                                        <td class="text-center" style="width: 150px; font-size:16px; color:#4D0000; display:table-cell; vertical-align:middle;" id="deploy_time_{{_id}}">{{ deploy_time }}</td>

                                                        {# 操作 #}
                                                        <td class="text-center" style="width: 200px; display:table-cell; vertical-align:middle;">
                                                            {% if run_status %}
                                                                {% if jacoco_status %}
                                                                    <button class="btn btn-primary" type="button" id="jacoco_btn" disabled="disabled">统计覆盖率</button>
                                                                {% endif %}
                                                                <button class="btn btn-primary" type="button" id="edit_btn" data-toggle="modal" data-target="#edit_case_form" style="margin-left:10px" disabled="disabled">编 辑</button>
                                                                <button class="btn btn-primary" type="button" id="deploy_btn" style="margin-left:10px" disabled="disabled">部 署</button>
                                                            {% else %}
                                                                {% if jacoco_status %}
                                                                    <button class="btn btn-primary" type="button" id="jacoco_btn" onclick="jacoco_exec('{{ pro_name }}','{{ nginx_api_proxy }}','{{ deploy_name }}')">统计覆盖率</button>
                                                                {% endif %}
                                                                <button class="btn btn-primary" type="button" id="edit_btn" onclick="fill_edit_frame('{{ pro_name }}','{{ nginx_api_proxy }}','{{ _id }}','{{ sonar_url }}','{{ jacoco_report_url }}','{{ apiTest_report_url }}')" data-toggle="modal" data-target="#edit_deploy_form" style="margin-left:10px">编 辑</button>
                                                                <button class="btn btn-primary" type="button" id="deploy_btn" onclick="single_deploy('{{ pro_name }}','{{ nginx_api_proxy }}','{{ deploy_name }}', 'manual')" style="margin-left:10px">部 署</button>
                                                            {% endif %}
                                                        </td>

                                                        {# Token #}
                                                        <td class="text-center" style="width: 50px; color:#4D0000; display:table-cell; vertical-align:middle;">
                                                            <input class="form-control" type="text" id="token">
                                                        </td>
                                                    </tr>
                                                {% endfor %}

                                                </tbody>

                                            </table>

                                        </div>

                                    </div>
                                </div>

                            </div>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
        </div>

        <div style="position:fixed;right:50px; top:30px; width:20px; height:20px;cursor:pointer">
            <a href="../index">首页</a>
        </div>

        <!-- 回到顶部 -->
        <div style="position:fixed;right:50px; bottom:30px; width:20px; height:20px;cursor:pointer">
            <a href="#"><span class="glyphicon glyphicon-eject" style = "font-size:30px;" aria-hidden="true"></span></a>
        </div>

        <!-- 编辑用例窗口 -->

        <div id="edit_deploy_form" class="modal fade" tabindex="-1">
            <div class="modal-dialog">
                <div class="modal-content">

                    <div class="modal-header">
                        <button class="close" data-dismiss="modal">
                            <span>&times;</span>
                        </button>
                        <div class="modal-title">
                            <h2 class="text-center">编辑部署模块</h2>
                        </div>
                    </div>

                    <div class="modal-body">
                        <div class="form-group">
                            <label class="text-info" style="margin-left:5%;">ID：</label>
                            <label id="deploy_id_edit"></label>
                        </div>
                        <div class="form-group">
                            <label class="text-info" style="margin-left:5%;">部署名称：</label>
                            <label id="deploy_name_edit"></label>
                        </div>

                        <div class="form-group">
                            <div class="col-sm-12">
                                <div class="col-sm-4" style="line-height:35px;">
                                    <label class="text-info">构建环境：<font color="#DC143C">(必填)</font></label>
                                </div>
                                <div class="col-sm-4">
                                    <input class="form-control" type="text" style="text-align:center; text-align-last:center;" id="build_env_edit">
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-sm-12">
                                <div class="col-sm-4" style="line-height:35px;">
                                    <label class="text-info">部署序号：<font color="#DC143C">(必填)</font></label>
                                </div>
                                <div class="col-sm-4">
                                    <input class="form-control" type="text" style="text-align:center; text-align-last:center;" id="serial_num_edit">
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-sm-12">
                                <div class="col-sm-4" style="line-height:35px;">
                                    <label class="text-info">部署分支：<font color="#DC143C">(必填)</font></label>
                                </div>
                                <div class="col-sm-4">
                                    <input class="form-control" type="text" style="text-align:center; text-align-last:center;" id="branch_edit">
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="text-info" style="margin-left:5%;margin-top:2%;">运行状态：</label>
                            <label id="run_status_edit"></label>
                        </div>
                        <div class="form-group">
                            <label class="text-info" style="margin-left:5%;">部署类型：</label>
                            <label id="deploy_type_edit"></label>
                        </div>
                        <div class="form-group">
                            <label class="text-info" style="margin-left:5%;">部署文件：</label>
                            <label id="deploy_file_edit"></label>
                        </div>
                        <div class="form-group">
                            <label class="text-info" style="margin-left:5%;">远程路径：</label>
                            <label id="remote_path_edit"></label>
                        </div>

                        <HR align="center" width="500" color="#987cb9" SIZE=1>

                        <div class="form-group">
                           <div class="col-sm-12">
                                <div class="col-sm-4" style="line-height:35px;">
                                    <label class="text-info">API 测试：</label>
                                </div>
                                <div class="col-sm-4">
                                    <div class="fg-line">
                                        <select class="form-control" style="text-align:center; text-align-last:center;" id="apiTest_status_edit">
                                            <option value=""></option>
                                            <option value="True">开启</option>
                                            <option value="False">关闭</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-sm-12">
                                <div class="col-sm-4" style="line-height:35px;">
                                    <label class="text-info">API测试 hostTag：</label>
                                </div>
                                <div class="col-sm-4">
                                    <input class="form-control" type="text" style="text-align:center; text-align-last:center;" id="apiTest_hostTag_edit">
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="text-info" style="margin-left:5%;">API测试报告地址：</label>
                            <a id="apiTest_report_edit" target="_blank" href=""></a>
                        </div>

                        <HR align="center" width="500" color="#987cb9" SIZE=1>

                        <div class="form-group">
                           <div class="col-sm-12">
                                <div class="col-sm-4" style="line-height:35px;">
                                    <label class="text-info">Sonar检测：</label>
                                </div>
                                <div class="col-sm-4">
                                    <div class="fg-line">
                                        <select class="form-control" style="text-align:center; text-align-last:center;" id="sonar_status_edit">
                                            <option value=""></option>
                                            <option value="True">开启</option>
                                            <option value="False">关闭</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="text-info" style="margin-left:5%;margin-top:2%;">Sonar_key：</label>
                            <label id="sonar_key_edit"></label>
                        </div>
                        <div class="form-group">
                            <label class="text-info" style="margin-left:5%;">Sonar_name：</label>
                            <label id="sonar_name_edit"></label>
                        </div>
                        <div class="form-group">
                            <label class="text-info" style="margin-left:5%;">Sonar_version：</label>
                            <label id="sonar_version_edit"></label>
                        </div>
                        <div class="form-group">
                            <label class="text-info" style="margin-left:5%;">Sonar_sources：</label>
                            <label id="sonar_sources_edit"></label>
                        </div>
                        <div class="form-group">
                            <label class="text-info" style="margin-left:5%;">Sonar_java_binaries：</label>
                            <label id="sonar_java_binaries_edit"></label>
                        </div>
                        <div class="form-group">
                            <label class="text-info" style="margin-left:5%;">Sonar地址：</label>
                            <a id="sonar_url_edit" target="_blank" href=""></a>
                        </div>

                        <HR align="center" width="500" color="#987cb9" SIZE=1>

                        <div class="form-group">
                            <label class="text-info" style="margin-left:5%;">Jacoco检测：</label>
                            <label id="jacoco_status_edit"></label>
                        </div>
                        <div class="form-group">
                            <label class="text-info" style="margin-left:5%;">Jacoco路径：</label>
                            <label id="jacoco_path_edit"></label>
                        </div>
                        <div class="form-group">
                            <label class="text-info" style="margin-left:5%;">Jacoco地址：</label>
                            <a id="jacoco_url_edit" target="_blank" href=""></a>
                        </div>

                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal"><span class="glyphicon glyphicon-remove"></span>关闭</button>
                        <button type="button" class="btn btn-primary" data-dismiss="modal" id="edit" onclick="edit_deploy_info('{{ pro_name }}','{{ nginx_api_proxy }}')"><span class="glyphicon glyphicon-floppy-disk"></span>更新</button>
                    </div>
                </div>
            </div>
        </div>


        <script src="/{{nginx_api_proxy}}/Build/scripts/jquery-4a356126b9.min.js" type="text/javascript"></script>
        <script src="/{{nginx_api_proxy}}/Build/scripts/bootstrap-4becdc9104.min.js" type="text/javascript"></script>
        <script src="/{{nginx_api_proxy}}/Build/scripts/common-afd42073e5.js" type="text/javascript"></script>
        <script src="/{{nginx_api_proxy}}/Build/scripts/deploy-769b19a8fe.js" type="text/javascript"></script>
        <script src="/{{nginx_api_proxy}}/Build/scripts/sweetalert-73703859f8.min.js" type="text/javascript"></script>
        <script src="/{{nginx_api_proxy}}/Build/scripts/jquery-8f77d5ae3f.dataTables.js" type="text/javascript"></script>
        <script src="/{{nginx_api_proxy}}/Build/scripts/dataTables-2be5d77c55.bootstrap.js" type="text/javascript"></script>

        <!-- 激活 气泡弹层 -->
        <script type="text/JavaScript">
            $(function (){
                $("[data-toggle='popover']").popover();
            });
        </script>

        <!-- 设置埋点，控制台显示页面的 '白屏时间' -->
        <script type="text/JavaScript">
            console.log("页面白屏时间 : " + (performance.timing['responseStart'] - performance.timing['navigationStart']).toString())
        </script>

    </body>
</html>
